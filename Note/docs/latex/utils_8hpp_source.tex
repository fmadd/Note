\doxysection{utils.\+hpp}
\hypertarget{utils_8hpp_source}{}\label{utils_8hpp_source}\index{src/utils.hpp@{src/utils.hpp}}
\mbox{\hyperlink{utils_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <fstream>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <filesystem>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <boost/asio.hpp>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <fstream>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{imgui__impl__glfw_8h}{imgui\_impl\_glfw.h}}>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{imgui__impl__opengl3_8h}{imgui\_impl\_opengl3.h}}>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}glfw/include/GLFW/glfw3.h"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <fstream>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{crpt_8h}{crpt.h}}"{}}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{using\ }boost::asio::ip::tcp;}
\DoxyCodeLine{00018\ \textcolor{keyword}{using\ namespace\ }std;}
\DoxyCodeLine{00019\ \textcolor{keyword}{using\ namespace\ }CryptoPP;}
\DoxyCodeLine{00020\ \textcolor{keyword}{using\ namespace\ }boost::asio;}
\DoxyCodeLine{00021\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fs}}\ =\ std::filesystem;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{utils_8hpp_a903e697f413972b0709ff93b42329438}{current\_user}};}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00053\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{utils_8hpp_a4b90afe01c345d156378d3e8ffd4e8a3}{registration}}(tcp::socket\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ CryptoPP::SecByteBlock\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}},\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}},\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password\_plain}})\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{int}\ number\ =\ 1;}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&number,\ \textcolor{keyword}{sizeof}(number)));}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password}}\ =\ \mbox{\hyperlink{crpt_8cpp_af3bcb54de4355e9da9030e080ba7c69f}{encryptAES}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password\_plain}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}});}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}}.size();}
\DoxyCodeLine{00062\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password}}.size();}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00065\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login\_length}}));}
\DoxyCodeLine{00066\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00067\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password\_length}}));}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{response}};}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}}.read\_some(boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{response}},\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{response}})\ \mbox{\hyperlink{utils_8hpp_a903e697f413972b0709ff93b42329438}{current\_user}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}};}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{response}};}
\DoxyCodeLine{00072\ \}}
\DoxyCodeLine{00100\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{utils_8hpp_aab21f189c8ebb5ca665bba5924dde1ea}{authentication}}(tcp::socket\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ CryptoPP::SecByteBlock\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}},\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}},\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password\_plain}})\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{int}\ number\ =\ 2;}
\DoxyCodeLine{00102\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&number,\ \textcolor{keyword}{sizeof}(number)));}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password}}\ =\ \mbox{\hyperlink{crpt_8cpp_af3bcb54de4355e9da9030e080ba7c69f}{encryptAES}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password\_plain}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}});}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}}.size();}
\DoxyCodeLine{00108\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password}}.size();}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00111\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login\_length}}));}
\DoxyCodeLine{00112\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00113\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{password\_length}}));}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{response}};}
\DoxyCodeLine{00116\ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}}.read\_some(boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{response}},\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{response}})\ \mbox{\hyperlink{utils_8hpp_a903e697f413972b0709ff93b42329438}{current\_user}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}};}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{response}};}
\DoxyCodeLine{00119\ \}}
\DoxyCodeLine{00154\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{utils_8hpp_a9be053978a82dc6016c9d5f4081fcb08}{except\_file}}(tcp::socket\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ CryptoPP::SecByteBlock\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}},\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner}},\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}})\ \{}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordtype}{int}\ number\ =\ 3;}
\DoxyCodeLine{00157\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&number,\ \textcolor{keyword}{sizeof}(number)));}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner}}.size();}
\DoxyCodeLine{00161\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}}.size();}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00164\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner\_length}}));}
\DoxyCodeLine{00165\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00166\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_length}}));}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{received\_bytes}}\ =\ 0;}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file\_size}};}
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}}.read\_some(boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file\_size}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file\_size}}==0)\{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Файл\ недоступен\ или\ пуст"{}});}
\DoxyCodeLine{00176\ \ \ \ \ \}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ std::filesystem::path\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{current\_path}}\ =\ std::filesystem::current\_path();}
\DoxyCodeLine{00179\ \ \ \ \ std::filesystem::path\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{parent\_path}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{current\_path}}.parent\_path();}
\DoxyCodeLine{00180\ \ \ \ \ std::filesystem::path\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{user\_path}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{parent\_path}}\ /\ \textcolor{stringliteral}{"{}userfiles"{}};}
\DoxyCodeLine{00181\ \ \ \ \ std::filesystem::create\_directory(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{user\_path}});}
\DoxyCodeLine{00182\ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{ofstream}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{user\_path}}\ /\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}},\ ios::out);}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{vector<char>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3667f558219c90437106b544a3ca00b8}{buffer}}(1024);}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{bytes\_received}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}}.read\_some(boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3667f558219c90437106b544a3ca00b8}{buffer}}));}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{comment}{//cout\ <<\ bytes\_received<<endl;}}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{ciphertext}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3667f558219c90437106b544a3ca00b8}{buffer}}.begin(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3667f558219c90437106b544a3ca00b8}{buffer}}.end());}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{plaintext}}\ =\ \mbox{\hyperlink{crpt_8cpp_a8490e9e60deba146bf0a520b55a7a22e}{decryptAES}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{ciphertext}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}});}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{received\_bytes}}\ +\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{bytes\_received}}\ -\/\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file\_size}}\ >\ 0)\{}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{plaintext}}.resize(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file\_size}}\ -\/\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{received\_bytes}});}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{plaintext}}.c\_str(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{plaintext}}.size());}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{received\_bytes}}\ +=\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{bytes\_received}};}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{received\_bytes}}\ <\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file\_size}});}
\DoxyCodeLine{00198\ \}}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00233\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{utils_8hpp_a9b5ff8f0b81031ff7bd7df8001e48fa0}{send\_file}}(tcp::socket\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ CryptoPP::SecByteBlock\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}},\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner}},\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}})\ \{}
\DoxyCodeLine{00234\ \ \ \ \ \textcolor{keywordtype}{int}\ number\ =\ 4;}
\DoxyCodeLine{00235\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&number,\ \textcolor{keyword}{sizeof}(number)));}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{ifstream}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}};}
\DoxyCodeLine{00238\ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.open(\textcolor{stringliteral}{"{}../userfiles/"{}}\ +\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}},\ std::ifstream::in);}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.is\_open())\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}File\ not\ exist"{}});}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner}}.size();}
\DoxyCodeLine{00242\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00243\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner\_length}}));}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_enc}}\ =\ \mbox{\hyperlink{crpt_8cpp_af3bcb54de4355e9da9030e080ba7c69f}{encryptAES}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}});}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_enc\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_enc}}.size();}
\DoxyCodeLine{00248\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_enc\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00249\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_enc}}));}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.seekg(0,\ std::ios::end);}
\DoxyCodeLine{00254\ \ \ \ \ std::streampos\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file\_size}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.tellg();}
\DoxyCodeLine{00255\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file\_size}},\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{size\_t})));}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.seekg(0,\ std::ios::beg);}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keywordflow}{while}\ (!\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.eof())\ \{}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{vector<char>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3667f558219c90437106b544a3ca00b8}{buffer}}(1000);}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.read(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3667f558219c90437106b544a3ca00b8}{buffer}}.data(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3667f558219c90437106b544a3ca00b8}{buffer}}.size());}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{plaintext}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3667f558219c90437106b544a3ca00b8}{buffer}}.begin(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3667f558219c90437106b544a3ca00b8}{buffer}}.end());}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{ciphertext}}\ =\ \mbox{\hyperlink{crpt_8cpp_af3bcb54de4355e9da9030e080ba7c69f}{encryptAES}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{plaintext}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}});}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{pl}}\ =\ \mbox{\hyperlink{crpt_8cpp_a8490e9e60deba146bf0a520b55a7a22e}{decryptAES}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{ciphertext}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}});}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{bytes\_sent}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}}.write\_some(boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{ciphertext}}));}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \textcolor{comment}{//cout\ <<bytes\_sent<<"{}\ process\(\backslash\)n"{};}}
\DoxyCodeLine{00268\ \ \ \ \ \}}
\DoxyCodeLine{00269\ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.close();}
\DoxyCodeLine{00270\ \}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00292\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{utils_8hpp_a27df30fca4ec66276a7c48bf7152bf3c}{add\_access}}(tcp::socket\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ CryptoPP::SecByteBlock\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}},\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}},\ \textcolor{keyword}{const}\ std::string\&\ user)\ \{}
\DoxyCodeLine{00293\ \ \ \ \ \textcolor{keywordtype}{int}\ number\ =\ 5;}
\DoxyCodeLine{00294\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&number,\ \textcolor{keyword}{sizeof}(number)));}
\DoxyCodeLine{00295\ }
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}}.size();}
\DoxyCodeLine{00298\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{user\_length}}\ =\ user.size();}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00301\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_length}}));}
\DoxyCodeLine{00302\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{user\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00303\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(user,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{user\_length}}));}
\DoxyCodeLine{00304\ \}}
\DoxyCodeLine{00322\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{utils_8hpp_af83cb938f8b696e0b971e01c1f0d2190}{log\_out}}(tcp::socket\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}})\ \{}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{keywordtype}{int}\ number\ =\ 6;}
\DoxyCodeLine{00324\ \ \ \ \ \mbox{\hyperlink{utils_8hpp_a903e697f413972b0709ff93b42329438}{current\_user}}.resize(0);}
\DoxyCodeLine{00325\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&number,\ \textcolor{keyword}{sizeof}(number)));}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \}}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00350\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{utils_8hpp_a6cc32ee0600598629b46b05c0827a3bc}{delete\_user}}(tcp::socket\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}})\ \{}
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{keywordtype}{int}\ number\ =\ 7;}
\DoxyCodeLine{00352\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&number,\ \textcolor{keyword}{sizeof}(number)));}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}}\ =\ \mbox{\hyperlink{utils_8hpp_a903e697f413972b0709ff93b42329438}{current\_user}};}
\DoxyCodeLine{00355\ \ \ \ \ std::cout\ <<\ \mbox{\hyperlink{utils_8hpp_a903e697f413972b0709ff93b42329438}{current\_user}}\ <<\ \textcolor{stringliteral}{"{}\ удален\(\backslash\)n"{}};}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00357\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}}.size();}
\DoxyCodeLine{00358\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00359\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{login\_length}}));}
\DoxyCodeLine{00360\ \}}
\DoxyCodeLine{00382\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{utils_8hpp_a6c70d0f94b5477b99442e52a6d68ab55}{delete\_file}}(tcp::socket\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ CryptoPP::SecByteBlock\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{aesKey}},\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner}},\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}})\ \{}
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{keywordtype}{int}\ number\ =\ 8;}
\DoxyCodeLine{00384\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&number,\ \textcolor{keyword}{sizeof}(number)));}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00386\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner}}.size();}
\DoxyCodeLine{00387\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_length}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}}.size();}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00390\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{owner\_length}}));}
\DoxyCodeLine{00391\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_length}},\ \textcolor{keyword}{sizeof}(std::size\_t)));}
\DoxyCodeLine{00392\ \ \ \ \ boost::asio::write(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{socket}},\ boost::asio::buffer(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename\_length}}));}
\DoxyCodeLine{00393\ \}}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00418\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{utils_8hpp_a8d0a38fc6d502e23d6bc2c63113e9127}{countFilesInDirectory}}(\textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{directory}},\ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{extension}})\ \{}
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileCount}}\ =\ 0;}
\DoxyCodeLine{00420\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{entry}}\ :\ fs::directory\_iterator(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{directory}}))\ \{}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{entry}}.is\_regular\_file()\ \&\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{entry}}.path().extension()\ ==\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{extension}})\ \{}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileCount}};}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00424\ \ \ \ \ \}}
\DoxyCodeLine{00425\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileCount}};}
\DoxyCodeLine{00426\ \}}
\DoxyCodeLine{00427\ }
\DoxyCodeLine{00448\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{utils_8hpp_a9c3c12a5dec5dfef70fb36340e470bbb}{readFiles}}()\ \{}
\DoxyCodeLine{00449\ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{directory}}\ =\ \textcolor{stringliteral}{"{}../userfiles"{}};}
\DoxyCodeLine{00450\ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{extension}}\ =\ \textcolor{stringliteral}{"{}.txt"{}};}
\DoxyCodeLine{00451\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileCount}}\ =\ \mbox{\hyperlink{utils_8hpp_a8d0a38fc6d502e23d6bc2c63113e9127}{countFilesInDirectory}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{directory}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{extension}});}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{i}}\ =\ 1;\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{i}}\ <=\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileCount}};\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{i}}++)\ \{}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceImGui_a4cee1ccc9018a298cfff90a704bde8ca}{ImGui::BeginTabItem}}((\textcolor{stringliteral}{"{}User's\ file\ "{}}\ +\ std::to\_string(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{i}})).c\_str()))\ \{}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileName}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{directory}}\ +\ \textcolor{stringliteral}{"{}/file\_"{}}\ +\ std::to\_string(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{i}})\ +\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{extension}};}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileContent}};}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileExists}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \ \ \ \ std::ifstream\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileName}});}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.is\_open())\ \{}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{line}};}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (std::getline(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{line}}))\ \{}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileContent}}\ +=\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{line}}\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{file}}.close();}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileExists}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00468\ }
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileExists}})\ \{}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceImGui_a9e7b83611fe441d54fad2effb4bf4965}{ImGui::Text}}(\textcolor{stringliteral}{"{}Failed\ to\ open\ file."{}});}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<char>\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{inputBuffer}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileContent}}.begin(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileContent}}.end());}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{inputBuffer}}.resize(1024);}
\DoxyCodeLine{00475\ }
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceImGui_a0470693929ed9930cbf5b737577c2414}{ImGui::InputTextMultiline}}(\textcolor{stringliteral}{"{}File"{}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{inputBuffer}}.data(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{inputBuffer}}.size(),\ \mbox{\hyperlink{structImVec2}{ImVec2}}(400,\ 200)))\ \{}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{newFileContent}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{inputBuffer}}.data());}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::ofstream\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{outFile}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{fileName}},\ std::ios::trunc);}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{outFile}}.is\_open())\ \{}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{outFile}}\ <<\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{newFileContent}};}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{outFile}}.close();}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceImGui_a9e7b83611fe441d54fad2effb4bf4965}{ImGui::Text}}(\textcolor{stringliteral}{"{}Failed\ to\ save\ edition."{}});}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceImGui_a42abffd6af88c1362535514925e1358b}{ImGui::EndTabItem}}();}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00490\ \ \ \ \ \}}
\DoxyCodeLine{00491\ \}}
\DoxyCodeLine{00492\ }
\DoxyCodeLine{00493\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{utils_8hpp_a1ac9ccc068706814d783eb7c117613d2}{deleteFile}}(\textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}})\ \{}
\DoxyCodeLine{00494\ \ \ \ \ std::filesystem::path\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filePath}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filename}});}
\DoxyCodeLine{00495\ \ \ \ \ \textcolor{keywordflow}{if}\ (std::filesystem::is\_regular\_file(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filePath}}))\ \{}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::filesystem::remove(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{filePath}});}
\DoxyCodeLine{00497\ \ \ \ \ \}}
\DoxyCodeLine{00498\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00499\ \}}

\end{DoxyCode}
